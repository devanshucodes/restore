{"ast":null,"code":"var _jsxFileName = \"/Users/devanshu/Desktop/restore-main/client/src/pages/Admin/Products.js\",\n  _s = $RefreshSig$();\nimport { Button, message, Table } from \"antd\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport { GetProducts, UpdateProductStatus } from \"../../apicalls/products\";\nimport { SetLoader } from \"../../redux/loadersSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Products() {\n  _s();\n  const [products, setProducts] = React.useState([]);\n  const dispatch = useDispatch();\n  const getData = async () => {\n    try {\n      dispatch(SetLoader(true));\n      const response = await GetProducts(null);\n      dispatch(SetLoader(false));\n      if (response.success) {\n        setProducts(response.data);\n      }\n    } catch (error) {\n      dispatch(SetLoader(false));\n      message.error(error.message);\n    }\n  };\n  const onStatusUpdate = async (id, status) => {\n    try {\n      dispatch(SetLoader(true));\n      const response = await UpdateProductStatus(id, status);\n      dispatch(SetLoader(false));\n      if (response.success) {\n        message.success(response.message);\n        getData();\n      } else {\n        throw new Error(response.message);\n      }\n    } catch (error) {\n      dispatch(SetLoader(false));\n      message.error(error.message);\n    }\n  };\n  const columns = [{\n    title: \"Product\",\n    dataIndex: \"image\",\n    render: (text, record) => {\n      var _record$images;\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: (record === null || record === void 0 ? void 0 : (_record$images = record.images) === null || _record$images === void 0 ? void 0 : _record$images.length) > 0 ? record.images[0] : \"\",\n        alt: \"\",\n        className: \"w-20 h-20 object-cover rounded-md\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    title: \"Product\",\n    dataIndex: \"name\"\n  }, {\n    title: \"Seller\",\n    dataIndex: \"name\",\n    render: (text, record) => {\n      return record.seller.name;\n    }\n  }, {\n    title: \"Price\",\n    dataIndex: \"price\"\n  }, {\n    title: \"Category\",\n    dataIndex: \"category\"\n  }, {\n    title: \"Age\",\n    dataIndex: \"age\"\n  }, {\n    title: \"Status\",\n    dataIndex: \"status\",\n    render: (text, record) => {\n      return record.status.toUpperCase();\n    }\n  }, {\n    title: \"Added On\",\n    dataIndex: \"createdAt\",\n    render: (text, record) => moment(record.createdAt).format(\"DD-MM-YYYY hh:mm A\")\n  }, {\n    title: \"Action\",\n    dataIndex: \"action\",\n    render: (text, record) => {\n      const {\n        status,\n        _id\n      } = record;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3\",\n        children: [status === \"pending\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"underline cursor-pointer\",\n          onClick: () => onStatusUpdate(_id, \"approved\"),\n          children: \"Approve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }, this), status === \"pending\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"underline cursor-pointer\",\n          onClick: () => onStatusUpdate(_id, \"rejected\"),\n          children: \"Reject\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }, this), status === \"approved\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"underline cursor-pointer\",\n          onClick: () => onStatusUpdate(_id, \"blocked\"),\n          children: \"Block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }, this), status === \"blocked\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"underline cursor-pointer\",\n          onClick: () => onStatusUpdate(_id, \"approved\"),\n          children: \"Unblock\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this);\n    }\n  }];\n  useEffect(() => {\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      dataSource: products\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\n_s(Products, \"vPuPuxeBVLZs+OWvh97ea7MMf0Y=\", false, function () {\n  return [useDispatch];\n});\n_c = Products;\nexport default Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["Button","message","Table","React","useEffect","useDispatch","useSelector","moment","GetProducts","UpdateProductStatus","SetLoader","jsxDEV","_jsxDEV","Products","_s","products","setProducts","useState","dispatch","getData","response","success","data","error","onStatusUpdate","id","status","Error","columns","title","dataIndex","render","text","record","_record$images","src","images","length","alt","className","fileName","_jsxFileName","lineNumber","columnNumber","seller","name","toUpperCase","createdAt","format","_id","children","onClick","dataSource","_c","$RefreshReg$"],"sources":["/Users/devanshu/Desktop/restore-main/client/src/pages/Admin/Products.js"],"sourcesContent":["import { Button, message, Table } from \"antd\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport { GetProducts, UpdateProductStatus } from \"../../apicalls/products\";\nimport { SetLoader } from \"../../redux/loadersSlice\";\n\nfunction Products() {\n  const [products, setProducts] = React.useState([]);\n\n  const dispatch = useDispatch();\n\n  const getData = async () => {\n    try {\n      dispatch(SetLoader(true));\n      const response = await GetProducts(null);\n      dispatch(SetLoader(false));\n      if (response.success) {\n        setProducts(response.data);\n      }\n    } catch (error) {\n      dispatch(SetLoader(false));\n      message.error(error.message);\n    }\n  };\n\n  const onStatusUpdate = async (id, status) => {\n    try {\n      dispatch(SetLoader(true));\n      const response = await UpdateProductStatus(id, status);\n      dispatch(SetLoader(false));\n      if (response.success) {\n        message.success(response.message);\n        getData();\n      } else {\n        throw new Error(response.message);\n      }\n    } catch (error) {\n      dispatch(SetLoader(false));\n      message.error(error.message);\n    }\n  };\n\n  const columns = [\n    {\n      title: \"Product\",\n      dataIndex: \"image\",\n      render: (text, record) => {\n        return (\n          <img\n            src={record?.images?.length > 0 ? record.images[0] : \"\"}\n            alt=\"\"\n            className=\"w-20 h-20 object-cover rounded-md\"\n          />\n        );\n      },\n    },\n    {\n      title: \"Product\",\n      dataIndex: \"name\",\n    },\n    {\n      title: \"Seller\",\n      dataIndex: \"name\",\n      render: (text, record) => {\n        return record.seller.name;\n      },\n    },\n\n    {\n      title: \"Price\",\n      dataIndex: \"price\",\n    },\n    {\n      title: \"Category\",\n      dataIndex: \"category\",\n    },\n    {\n      title: \"Age\",\n      dataIndex: \"age\",\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"status\",\n      render: (text, record) => {\n        return record.status.toUpperCase();\n      },\n    },\n    {\n      title: \"Added On\",\n      dataIndex: \"createdAt\",\n      render: (text, record) =>\n        moment(record.createdAt).format(\"DD-MM-YYYY hh:mm A\"),\n    },\n    {\n      title: \"Action\",\n      dataIndex: \"action\",\n      render: (text, record) => {\n        const { status, _id } = record;\n        return (\n          <div className=\"flex gap-3\">\n            {status === \"pending\" && (\n              <span\n                className=\"underline cursor-pointer\"\n                onClick={() => onStatusUpdate(_id, \"approved\")}\n              >\n                Approve\n              </span>\n            )}\n            {status === \"pending\" && (\n              <span\n                className=\"underline cursor-pointer\"\n                onClick={() => onStatusUpdate(_id, \"rejected\")}\n              >\n                Reject\n              </span>\n            )}\n            {status === \"approved\" && (\n              <span\n                className=\"underline cursor-pointer\"\n                onClick={() => onStatusUpdate(_id, \"blocked\")}\n              >\n                Block\n              </span>\n            )}\n            {status === \"blocked\" && (\n              <span\n                className=\"underline cursor-pointer\"\n                onClick={() => onStatusUpdate(_id, \"approved\")}\n              >\n                Unblock\n              </span>\n            )}\n          </div>\n        );\n      },\n    },\n  ];\n\n  useEffect(() => {\n    getData();\n  }, []);\n  return (\n    <div>\n      <Table columns={columns} dataSource={products} />\n    </div>\n  );\n}\n\nexport default Products;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}