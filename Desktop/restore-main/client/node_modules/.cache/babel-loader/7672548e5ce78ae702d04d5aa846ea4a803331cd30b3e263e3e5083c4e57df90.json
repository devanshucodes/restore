{"ast":null,"code":"var _jsxFileName = \"/Users/devanshu/Desktop/restore-main/client/src/pages/Admin/Users.js\",\n  _s = $RefreshSig$();\nimport { Button, message, Table } from \"antd\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport { GetProducts, UpdateProductStatus } from \"../../apicalls/products\";\nimport { SetLoader } from \"../../redux/loadersSlice\";\nimport { GetAllUsers, UpdateUserStatus } from \"../../apicalls/users\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Users() {\n  _s();\n  const [users, setUsers] = React.useState([]);\n  const dispatch = useDispatch();\n  const getData = async () => {\n    try {\n      dispatch(SetLoader(true));\n      const response = await GetAllUsers(null);\n      dispatch(SetLoader(false));\n      if (response.success) {\n        setUsers(response.data);\n      }\n    } catch (error) {\n      dispatch(SetLoader(false));\n      message.error(error.message);\n    }\n  };\n  const onStatusUpdate = async (id, status) => {\n    try {\n      dispatch(SetLoader(true));\n      const response = await UpdateUserStatus(id, status);\n      dispatch(SetLoader(false));\n      if (response.success) {\n        message.success(response.message);\n        getData();\n      } else {\n        throw new Error(response.message);\n      }\n    } catch (error) {\n      dispatch(SetLoader(false));\n      message.error(error.message);\n    }\n  };\n  const columns = [{\n    title: \"Name\",\n    dataIndex: \"name\"\n  }, {\n    title: \"Email\",\n    dataIndex: \"email\"\n  }, {\n    title: \"Role\",\n    dataIndex: \"role\",\n    render: (text, record) => {\n      return record.role.toUpperCase();\n    }\n  }, {\n    title: \"Created At\",\n    dataIndex: \"createdAt\",\n    render: (text, record) => moment(record.createdAt).format(\"DD-MM-YYYY hh:mm A\")\n  }, {\n    title: \"Status\",\n    dataIndex: \"status\",\n    render: (text, record) => {\n      return record.status.toUpperCase();\n    }\n  }, {\n    title: \"Action\",\n    dataIndex: \"action\",\n    render: (text, record) => {\n      const {\n        status,\n        _id\n      } = record;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3\",\n        children: [status === \"active\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"underline cursor-pointer\",\n          onClick: () => onStatusUpdate(_id, \"blocked\"),\n          children: \"Block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this), status === \"blocked\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"underline cursor-pointer\",\n          onClick: () => onStatusUpdate(_id, \"active\"),\n          children: \"Unblock\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this);\n    }\n  }];\n  useEffect(() => {\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      dataSource: users\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n_s(Users, \"yfKlNxDr5GxwZxsXRg9lKtIYceA=\", false, function () {\n  return [useDispatch];\n});\n_c = Users;\nexport default Users;\nvar _c;\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"names":["Button","message","Table","React","useEffect","useDispatch","useSelector","moment","GetProducts","UpdateProductStatus","SetLoader","GetAllUsers","UpdateUserStatus","jsxDEV","_jsxDEV","Users","_s","users","setUsers","useState","dispatch","getData","response","success","data","error","onStatusUpdate","id","status","Error","columns","title","dataIndex","render","text","record","role","toUpperCase","createdAt","format","_id","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","dataSource","_c","$RefreshReg$"],"sources":["/Users/devanshu/Desktop/restore-main/client/src/pages/Admin/Users.js"],"sourcesContent":["import { Button, message, Table } from \"antd\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport { GetProducts, UpdateProductStatus } from \"../../apicalls/products\";\nimport { SetLoader } from \"../../redux/loadersSlice\";\nimport { GetAllUsers, UpdateUserStatus } from \"../../apicalls/users\";\n\nfunction Users() {\n  const [users, setUsers] = React.useState([]);\n\n  const dispatch = useDispatch();\n\n  const getData = async () => {\n    try {\n      dispatch(SetLoader(true));\n      const response = await GetAllUsers(null);\n      dispatch(SetLoader(false));\n      if (response.success) {\n        setUsers(response.data);\n      }\n    } catch (error) {\n      dispatch(SetLoader(false));\n      message.error(error.message);\n    }\n  };\n\n  const onStatusUpdate = async (id, status) => {\n    try {\n      dispatch(SetLoader(true));\n      const response = await UpdateUserStatus(id, status);\n      dispatch(SetLoader(false));\n      if (response.success) {\n        message.success(response.message);\n        getData();\n      } else {\n        throw new Error(response.message);\n      }\n    } catch (error) {\n      dispatch(SetLoader(false));\n      message.error(error.message);\n    }\n  };\n\n  const columns = [\n    {\n      title: \"Name\",\n      dataIndex: \"name\",\n    },\n    {\n      title: \"Email\",\n      dataIndex: \"email\",\n    },\n    {\n      title: \"Role\",\n      dataIndex: \"role\",\n      render: (text, record) => {\n        return record.role.toUpperCase();\n      }\n    },\n    {\n      title: \"Created At\",\n      dataIndex: \"createdAt\",\n      render: (text, record) =>\n        moment(record.createdAt).format(\"DD-MM-YYYY hh:mm A\"),\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"status\",\n      render: (text, record) => {\n        return record.status.toUpperCase();\n      },\n    },\n    {\n      title: \"Action\",\n      dataIndex: \"action\",\n      render: (text, record) => {\n        const { status, _id } = record;\n        return (\n          <div className=\"flex gap-3\">\n            {status === \"active\" && (\n              <span\n                className=\"underline cursor-pointer\"\n                onClick={() => onStatusUpdate(_id, \"blocked\")}\n              >\n                Block\n              </span>\n            )}\n            {status === \"blocked\" && (\n              <span\n                className=\"underline cursor-pointer\"\n                onClick={() => onStatusUpdate(_id, \"active\")}\n              >\n                Unblock\n              </span>\n            )}\n           \n          </div>\n        );\n      },\n    },\n  ];\n\n  useEffect(() => {\n    getData();\n  }, []);\n  return (\n    <div>\n      <Table columns={columns} dataSource={users} />\n    </div>\n  );\n}\n\nexport default Users;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}