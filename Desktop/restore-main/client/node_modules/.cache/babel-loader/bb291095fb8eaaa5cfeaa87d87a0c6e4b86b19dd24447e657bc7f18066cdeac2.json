{"ast":null,"code":"var _jsxFileName = \"/Users/devanshu/Desktop/restore-main/client/src/pages/Profile/Products/index.js\",\n  _s = $RefreshSig$();\nimport { Button, message, Table } from \"antd\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport { DeleteProduct, GetProducts } from \"../../../apicalls/products\";\nimport { SetLoader } from \"../../../redux/loadersSlice\";\nimport ProductsForm from \"./ProductsForm\";\nimport Bids from \"./Bids\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Products() {\n  _s();\n  const [showBids, setShowBids] = React.useState(false);\n  const [selectedProduct, setSelectedProduct] = React.useState(null);\n  const [products, setProducts] = React.useState([]);\n  const [showProductForm, setShowProductForm] = React.useState(false);\n  const {\n    user\n  } = useSelector(state => state.users);\n  const dispatch = useDispatch();\n  const getData = async () => {\n    try {\n      dispatch(SetLoader(true));\n      const response = await GetProducts({\n        seller: user._id\n      });\n      dispatch(SetLoader(false));\n      if (response.success) {\n        setProducts(response.data);\n      }\n    } catch (error) {\n      dispatch(SetLoader(false));\n      message.error(error.message);\n    }\n  };\n  const deleteProduct = async id => {\n    try {\n      dispatch(SetLoader(true));\n      const response = await DeleteProduct(id);\n      dispatch(SetLoader(false));\n      if (response.success) {\n        message.success(response.message);\n        getData();\n      } else {\n        message.error(response.message);\n      }\n    } catch (error) {\n      dispatch(SetLoader(false));\n      message.error(error.message);\n    }\n  };\n  const columns = [{\n    title: \"Product\",\n    dataIndex: \"image\",\n    render: (text, record) => {\n      var _record$images;\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: (record === null || record === void 0 ? void 0 : (_record$images = record.images) === null || _record$images === void 0 ? void 0 : _record$images.length) > 0 ? record.images[0] : \"\",\n        alt: \"\",\n        className: \"w-20 h-20 object-cover rounded-md\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    title: \"Name\",\n    dataIndex: \"name\"\n  }, {\n    title: \"Price\",\n    dataIndex: \"price\"\n  }, {\n    title: \"Category\",\n    dataIndex: \"category\"\n  }, {\n    title: \"Age\",\n    dataIndex: \"age\"\n  }, {\n    title: \"Status\",\n    dataIndex: \"status\"\n  }, {\n    title: \"Added On\",\n    dataIndex: \"createdAt\",\n    render: (text, record) => moment(record.createdAt).format(\"DD-MM-YYYY hh:mm A\")\n  }, {\n    title: \"Action\",\n    dataIndex: \"action\",\n    render: (text, record) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-5 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"ri-delete-bin-line\",\n          onClick: () => {\n            deleteProduct(record._id);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"ri-pencil-line\",\n          onClick: () => {\n            setSelectedProduct(record);\n            setShowProductForm(true);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"underline cursor-pointer\",\n          onClick: () => {\n            setSelectedProduct(record);\n            setShowBids(true);\n          },\n          children: \"Show Bids\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this);\n    }\n  }];\n  useEffect(() => {\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end mb-2\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"default\",\n        onClick: () => {\n          setSelectedProduct(null);\n          setShowProductForm(true);\n        },\n        children: \"Add Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      dataSource: products\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), showProductForm && /*#__PURE__*/_jsxDEV(ProductsForm, {\n      showProductForm: showProductForm,\n      setShowProductForm: setShowProductForm,\n      selectedProduct: selectedProduct,\n      getData: getData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this), showBids && /*#__PURE__*/_jsxDEV(Bids, {\n      showBidsModal: showBids,\n      setShowBidsModal: setShowBids,\n      selectedProduct: selectedProduct\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n}\n_s(Products, \"vAq43u91JDrNxt1aAny5zPX4KkQ=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = Products;\nexport default Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["Button","message","Table","React","useEffect","useDispatch","useSelector","moment","DeleteProduct","GetProducts","SetLoader","ProductsForm","Bids","jsxDEV","_jsxDEV","Products","_s","showBids","setShowBids","useState","selectedProduct","setSelectedProduct","products","setProducts","showProductForm","setShowProductForm","user","state","users","dispatch","getData","response","seller","_id","success","data","error","deleteProduct","id","columns","title","dataIndex","render","text","record","_record$images","src","images","length","alt","className","fileName","_jsxFileName","lineNumber","columnNumber","createdAt","format","children","onClick","type","dataSource","showBidsModal","setShowBidsModal","_c","$RefreshReg$"],"sources":["/Users/devanshu/Desktop/restore-main/client/src/pages/Profile/Products/index.js"],"sourcesContent":["import { Button, message, Table } from \"antd\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport { DeleteProduct, GetProducts } from \"../../../apicalls/products\";\nimport { SetLoader } from \"../../../redux/loadersSlice\";\nimport ProductsForm from \"./ProductsForm\";\nimport Bids from \"./Bids\";\n\nfunction Products() {\n  const [showBids, setShowBids] = React.useState(false);\n  const [selectedProduct, setSelectedProduct] = React.useState(null);\n  const [products, setProducts] = React.useState([]);\n  const [showProductForm, setShowProductForm] = React.useState(false);\n  const { user } = useSelector((state) => state.users);\n  const dispatch = useDispatch();\n\n  const getData = async () => {\n    try {\n      dispatch(SetLoader(true));\n      const response = await GetProducts({\n        seller: user._id,\n      });\n      dispatch(SetLoader(false));\n      if (response.success) {\n        setProducts(response.data);\n      }\n    } catch (error) {\n      dispatch(SetLoader(false));\n      message.error(error.message);\n    }\n  };\n\n  const deleteProduct = async (id) => {\n    try {\n      dispatch(SetLoader(true));\n      const response = await DeleteProduct(id);\n      dispatch(SetLoader(false));\n      if (response.success) {\n        message.success(response.message);\n        getData();\n      } else {\n        message.error(response.message);\n      }\n    } catch (error) {\n      dispatch(SetLoader(false));\n      message.error(error.message);\n    }\n  };\n\n  const columns = [\n    {\n      title: \"Product\",\n      dataIndex: \"image\",\n      render: (text, record) => {\n        return (\n          <img\n            src={record?.images?.length > 0 ? record.images[0] : \"\"}\n            alt=\"\"\n            className=\"w-20 h-20 object-cover rounded-md\"\n          />\n        );\n      },\n    },\n    {\n      title: \"Name\",\n      dataIndex: \"name\",\n    },\n    {\n      title: \"Price\",\n      dataIndex: \"price\",\n    },\n    {\n      title: \"Category\",\n      dataIndex: \"category\",\n    },\n    {\n      title: \"Age\",\n      dataIndex: \"age\",\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"status\",\n    },\n    {\n      title: \"Added On\",\n      dataIndex: \"createdAt\",\n      render: (text, record) =>\n        moment(record.createdAt).format(\"DD-MM-YYYY hh:mm A\"),\n    },\n    {\n      title: \"Action\",\n      dataIndex: \"action\",\n      render: (text, record) => {\n        return (\n          <div className=\"flex gap-5 items-center\">\n            <i\n              className=\"ri-delete-bin-line\"\n              onClick={() => {\n                deleteProduct(record._id);\n              }}\n            ></i>\n            <i\n              className=\"ri-pencil-line\"\n              onClick={() => {\n                setSelectedProduct(record);\n                setShowProductForm(true);\n              }}\n            ></i>\n\n            <span\n              className=\"underline cursor-pointer\"\n              onClick={() => {\n                setSelectedProduct(record);\n                setShowBids(true);\n              }}\n            >\n              Show Bids\n            </span>\n          </div>\n        );\n      },\n    },\n  ];\n\n  useEffect(() => {\n    getData();\n  }, []);\n  return (\n    <div>\n      <div className=\"flex justify-end mb-2\">\n        <Button\n          type=\"default\"\n          onClick={() => {\n            setSelectedProduct(null);\n            setShowProductForm(true);\n          }}\n        >\n          Add Product\n        </Button>\n      </div>\n      <Table columns={columns} dataSource={products} />\n      {showProductForm && (\n        <ProductsForm\n          showProductForm={showProductForm}\n          setShowProductForm={setShowProductForm}\n          selectedProduct={selectedProduct}\n          getData={getData}\n        />\n      )}\n\n      {showBids && (\n        <Bids\n          showBidsModal={showBids}\n          setShowBidsModal={setShowBids}\n          selectedProduct={selectedProduct}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Products;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}